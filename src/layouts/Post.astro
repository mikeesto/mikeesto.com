---
import Base from "../layouts/Base.astro";
const { frontmatter } = Astro.props;
import { parse, format } from "date-fns";
import "@fontsource/fira-code";

const parseDate = parse(frontmatter.date, "dd-MM-yyyy", new Date());
const formatDate = format(parseDate, "PPP");
---

<Base title={frontmatter.title} codeStyles={true}>
  <article class="post mt-4">
    <h1 class="uppercase text-xl inline-block font-bold">
      {frontmatter.title}
    </h1>
    <h2 class="font-light mt-1 mb-4">{formatDate}</h2>
    <slot />
  </article>
</Base>

<script type="module">
  import { annotate } from "https://unpkg.com/rough-notation?module";
  const heading = document.querySelector("h1");
  const annotation = annotate(heading, {
    type: "highlight",
    animate: false,
    color: "#ffd54f",
  });
  annotation.show();
</script>

<style is:global>
  /* Used to style slot */

  .post a {
    @apply text-blue-500 hover:text-blue-600;
  }

  .post h3 {
    @apply font-bold uppercase my-4 text-lg;
  }

  .post p {
    @apply my-2;
  }

  .post .astro-code {
    @apply my-3 p-2;
  }

  .post code {
    font-family: "Fira Code", monospace;
  }

  .post ul {
    @apply list-disc list-inside my-2;
  }

  .post ol {
    @apply list-decimal list-inside my-2;
  }
</style>
